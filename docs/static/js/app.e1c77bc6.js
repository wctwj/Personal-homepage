(function(t){function e(e){for(var n,s,o=e[0],c=e[1],u=e[2],h=0,f=[];h<o.length;h++)s=o[h],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"052a":function(t,e,r){},"2af9":function(t,e){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-view")},i=[],s=r("2877"),o={},c=Object(s["a"])(o,a,i,!1,null,null,null),u=c.exports,l=r("8c4f"),h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),r("div",{ref:"test",staticClass:"tetris-wrapper",attrs:{id:"game"},on:{click:t.test,swipeup:function(e){return t.changeMoveDirection(0)},swiperight:function(e){return t.changeMoveDirection(1)},swipedown:function(e){return t.changeMoveDirection(2)},swipeleft:function(e){return t.changeMoveDirection(3)}}},[t.showGame?r("p",{staticClass:"game-tips"},[t._v("是否要开始贪吃蛇游戏？")]):t._e(),t.showGame?r("div",{staticClass:"start",on:{click:t.start}},[t._v("start！")]):t._e(),r("div",{ref:"container",staticClass:"game-wrapper"},t._l(t.structureArray,function(e,n){return r("div",{key:n,staticClass:"block-group"},t._l(e,function(t,e){return r("div",{key:e,staticClass:"block",class:{green:1===t.state,red:2===t.state,blue:3===t.state,black:4===t.state}})}),0)}),0)])])},f=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home-banner"},[r("p",[t._v("welcome to my space！！！ 新年快乐！！！")])])}],d=(r("96cf"),r("3b8d")),p=(r("cd22"),{data:function(){return{timer:null,interval:200,transverse:20,structureArray:[],moveDirection:1,nextMoveDirection:1,snakeHead:{},snakeTail:{},foodCoordinate:{},showGame:!0}},methods:{test:function(){console.log(this.$refs.container.clientHeight),console.log(this.$refs.container.clientWidth),console.log(this.longitudinal)},changeMoveDirection:function(t){var e=t-this.moveDirection;2!==e&&-2!==e&&(this.nextMoveDirection=t)},mobileRule:function(){var t=this.snakeHead,e=t.x,r=t.y,n=this.structureArray[r][e].code;switch(this.structureArray[r][e].state=1,this.nextMoveDirection){case 0:r--;break;case 1:e++;break;case 2:r++;break;case 3:e--;break;default:throw new Error("蛇的移动规则判断出错")}this.structureArray[r].splice(e,1,{state:2,code:++n}),this.snakeHead={x:e,y:r},this.moveDirection=this.nextMoveDirection,this.whetherEatFood()},whetherEatFood:function(){var t=JSON.stringify(this.snakeHead)===JSON.stringify(this.foodCoordinate);t?(this.generateFood(),this.integralRule(),this.increaseDifficulty()):this.generateSnakeTail()},generateFood:function(){var t=Math.floor(Math.random()*this.transverse),e=Math.floor(Math.random()*this.longitudinal);0===this.structureArray[e][t].state?(this.foodCoordinate={x:t,y:e},this.structureArray[e].splice(t,1,{state:4,code:1/0})):this.generateFood()},integralRule:function(){},increaseDifficulty:function(){this.interval<=100||(this.interval-=4,this.clearTimer(),this.initializationTimer())},generateSnakeTail:function(){var t=this.snakeTail,e=t.x,r=t.y;2!==this.structureArray[r][e].state&&this.structureArray[r].splice(e,1,{state:0});var n=r-1>=0&&this.structureArray[r-1][e].state?this.structureArray[r-1][e].code:1/0,a=r+1<this.longitudinal&&this.structureArray[r+1][e].state?this.structureArray[r+1][e].code:1/0,i=e-1>=0&&this.structureArray[r][e-1].state?this.structureArray[r][e-1].code:1/0,s=e+1<this.transverse&&this.structureArray[r][e+1].state?this.structureArray[r][e+1].code:1/0,o=Math.min(n,a,i,s);switch(o){case n:r--;break;case a:r++;break;case i:e--;break;case s:e++;break;default:console.log("重新生成蛇尾出错了");break}this.snakeTail={x:e,y:r},this.structureArray[r][e].state=3},deathRule:function(){var t=this.snakeHead,e=t.x,r=t.y;switch(this.nextMoveDirection){case 0:if(r-1<0)return!1;if(1===this.structureArray[r-1][e].state)return!1;break;case 1:if(e+1>this.transverse-1)return!1;if(1===this.structureArray[r][e+1].state)return!1;break;case 2:if(r+1>this.longitudinal-1)return!1;if(1===this.structureArray[r+1][e].state)return!1;break;case 3:if(e-1<0)return!1;if(1===this.structureArray[r][e-1].state)return!1;break;default:throw new Error("蛇的死亡规则判断错误")}return!0},deathTreatment:function(){this.clearTimer(),alert("你的小宝贝没了！！！！"),this.showGame=!0},initializationGrid:function(){this.structureArray=[];for(var t=0;t<this.longitudinal;t++){this.structureArray.push([]);for(var e=0;e<this.transverse;e++)this.structureArray[t].push({state:0})}},initializationSnake:function(){this.structureArray[2].splice(4,1,{state:2,code:2}),this.structureArray[2].splice(3,1,{state:1,code:1}),this.structureArray[2].splice(2,1,{state:3,code:0}),this.snakeHead={x:4,y:2},this.snakeTail={x:2,y:2}},initializationTimer:function(){var t=this;this.timer=setInterval(function(){t.deathRule()?t.mobileRule():t.deathTreatment()},this.interval)},clearTimer:function(){clearInterval(this.timer)},addKeyboardEvents:function(){var t=this;document.onkeydown=function(e){switch(console.log(e),e.keyCode){case 38:t.changeMoveDirection(0);break;case 39:t.changeMoveDirection(1);break;case 40:t.changeMoveDirection(2);break;case 37:t.changeMoveDirection(3);break}}},start:function(){var t=Object(d["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.showGame=!1,t.next=3,this.initializationGrid();case 3:this.initializationSnake(),this.initializationTimer(),this.generateFood(),this.addKeyboardEvents();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=Object(d["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),destroyed:function(){this.clearTimer()},computed:{longitudinal:function(){var t=this.$refs.container.clientWidth,e=this.$refs.container.clientHeight,r=parseInt(e/t*this.transverse);return r}}}),v=p,y=(r("ace1"),Object(s["a"])(v,h,f,!1,null,"c0cfd64e",null)),m=y.exports;n["default"].use(l["a"]);var g=new l["a"]({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:m}]}),b=r("5c96"),k=r.n(b),w=r("2af9"),A=r.n(w),x=(r("0fae"),r("bc3a")),M=r.n(x),_=r("d604"),D=r.n(_);M.a.defaults.baseURL="http://ttapi.research.itcast.cn/mp/v1_0",M.a.defaults.transformResponse=[function(t){return D.a.parse(t)}],M.a.interceptors.request.use(function(t){var e=window.localStorage.getItem("user-token");return t.headers["Authorization"]="Bearer ".concat(e),t},function(){}),M.a.interceptors.response.use(function(t){return t.data?t.data:{}},function(t){var e=t.response.status,r="";switch(e){case 400:r="请求参数错误";break;case 403:r="非实名";break;case 507:r="服务器数据库异常";break;case 404:r="手机号不正确";break;default:r="未知错误";break}return Object(b["Message"])({type:"warning",message:r}),new Promise(function(){})});var O=M.a;n["default"].prototype.$axios=O,n["default"].config.productionTip=!1,n["default"].use(k.a),n["default"].use(A.a),new n["default"]({router:g,render:function(t){return t(u)}}).$mount("#app")},ace1:function(t,e,r){"use strict";var n=r("052a"),a=r.n(n);a.a},cd22:function(t,e,r){}});
//# sourceMappingURL=app.e1c77bc6.js.map